# Nerve • Design Tokens

## What are Design Tokens?

Design tokens are all the values needed to construct and maintain a design system — spacing, color, typography, object styles, animation, etc. — represented as data. These can represent anything defined by design: a color as a HEX value, an opacity as a number, an animation ease as coordinates. They’re used in place of hard-coded values in order to ensure flexibility and unity across all product experiences.

## Design Tokens Tooling

This package currently uses [Amazon's Style Dictionary](https://amzn.github.io/style-dictionary/#/) to generate design tokens. Style Dictionary is a tool that takes in a set of design tokens and outputs them in different formats.

## Defining Design Tokens

Design system tokens are defined in the `src` directory. Each token is defined within a token group, where the name of the javascript file and the first key of the exported object are the token group. For example, if we want to create a token group called `color`, we would do the following:

1. Create a new javascript file in the `src` directory called `color.js`
2. Export an object from the file with a key of `color` and all of the color tokens defined as sub-properties of the object.

```js
module.exports = {
  color: {
    primary: {
      100: {
        value: '#SOMEHEXVALUE',
      },
      200: {
        value: '#SOMEHEXVALUE',
      },
    },
  },
};
```

The result of running a build on the above would be CSS and JSON tokens that look like the following:

```css
--color-primary-100: #SOMEHEXVALUE;
--color-primary-200: #SOMEHEXVALUE;
```

```json
{
  "color": {
    "primary": {
      "100": {
        "value": "#SOMEHEXVALUE"
      },
      "200": {
        "value": "#SOMEHEXVALUE"
      }
    }
  }
}
```

## Generating Design Tokens

Design tokens can be generated by running the following command:

```bash
pnpm build
```

This will generate CSS and JSON files in the `dist/web` directory. These files can be consumed by applications and libraries. If we ever need to generate tokens for a different platform (like iOS or Android), they will be built in `dist/<platform>`.

By defining the `dev:pre-build` script in the `package.json` of this package, tokens will automatically be built before any `dev` processes are run.

_Note that if changes are made to our tokens, any consumer application would need to stopped and rebuilt to receive these changes. There is no "watch mode" for tokens, because they are the lowest level concern of a design system and need to be built completely BEFORE any components._

## Consuming Design Tokens

Consuming design system tokens in applications or libraries is easy. There are currently two ways to consume tokens: CSS and JSON.

### CSS

CSS tokens can be imported into the root of an application's CSS file. Doing so will declare all of the tokens as CSS variables, making them available for use in your application.

```css
/* Import in app root css file */
@import '@little-otter/tide-tokens/dist/css/tokens.css';

/* Usage somewhere in the application */
body {
  background-color: var(--color-primary-500);
}
```

### JSON

Tokens can be imported as JSON files. This is useful for consuming tokens in JavaScript applications. It's also really easy!

```js
// Import
import tokens from '@little-otter/tide-tokens';

// Usage
tokens.color.primary['500'];
```
